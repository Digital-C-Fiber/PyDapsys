===============================
Version 8
===============================
The file consists of multiple three main sections. The files `header <header_>`__ contains information usually not required to decode the file.


+------------------------------------+-----+-------------------+----------------+-------------------------------------------------------+
| Offset (bytes)                     | ref | Description       | Length (bytes) | Notes                                                 |
+====================================+=====+===================+================+=======================================================+
| 0x00                               | h   | Header            | >= 14          |                                                       |
+------------------------------------+-----+-------------------+----------------+-------------------------------------------------------+
| 0x00 + len(h)                      | ps  | array of pages    | >= 4           |                                                       |
+------------------------------------+-----+-------------------+----------------+-------------------------------------------------------+
| 0x00 + len(h) + len(ps)            | toc | table of contents | >= 8           |                                                       |
+------------------------------------+-----+-------------------+----------------+-------------------------------------------------------+
| 0x00 + len(h) + len(ps) + len(toc) |     | footer string     | >= 4           | usually contains the DAPSYS version and serial number |
+------------------------------------+-----+-------------------+----------------+-------------------------------------------------------+

Header
===============================
.. _header

+----------------+-----+--------------------+----------------+--------------------------+
| Offset (bytes) | ref | Description        | Length (bytes) | Notes                    |
+================+=====+====================+================+==========================+
| 0x00           |     | Magic Byte? (0x18) | 1              |                          |
+----------------+-----+--------------------+----------------+--------------------------+
| 0x01           |     | empty              | 7              |                          |
+----------------+-----+--------------------+----------------+--------------------------+
| 0x07           | s1  | string             | >= 4           | usually set to "Unknown" |
+----------------+-----+--------------------+----------------+--------------------------+
| 0x07+len(s1)   |     | empty              | 9              |                          |
+----------------+-----+--------------------+----------------+--------------------------+
| 0x10+len(s1)   |     | u32                | 4              |                          |
+----------------+-----+--------------------+----------------+--------------------------+
| 0x14+len(s1)   |     | timestamp          | 8              | custom format, see doc   |
+----------------+-----+--------------------+----------------+--------------------------+

Page
===============================
.. _page

+----------------+-----+--------------------------+----------------+---------------+
| Offset (bytes) | ref | Description              | Length (bytes) | Notes         |
+================+=====+==========================+================+===============+
| 0x00           |     | Page Type (u32)          | 4              | - 2: Waveform |
|                |     |                          |                | - 3: Text     |
+----------------+-----+--------------------------+----------------+---------------+
| 0x04           |     | Page Id (u32)            | 4              |               |
+----------------+-----+--------------------------+----------------+---------------+
| 0x08           |     | Referenced Page Id (u32) | 4              | Nullable      |
+----------------+-----+--------------------------+----------------+---------------+
| 0x0C           |     | Page Contents            | 9              |               |
+----------------+-----+--------------------------+----------------+---------------+

Text Page Contents
----------------------
.. _toc

+----------------+-----+-----------------------+----------------+----------+
| Offset (bytes) | ref | Description           | Length (bytes) | Notes    |
+================+=====+=======================+================+==========+
| 0x00           | s1  | text (string)         | >=4            |          |
+----------------+-----+-----------------------+----------------+----------+
| 0x00 + len(s1) |     | timestamp start (f64) | 8              |          |
+----------------+-----+-----------------------+----------------+----------+
| 0x08 + len(s1) |     | timestamp end (f64)   | 8              | Nullable |
+----------------+-----+-----------------------+----------------+----------+

Waveform Page Contents
------------------------
.. _wppage

+--------------------------+-----+----------------------------------------------------+----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Offset (bytes)           | ref | Description                                        | Length (bytes) | Notes                                                                                                                                                                      |
+==========================+=====+====================================================+================+============================================================================================================================================================================+
| 0x00                     | a1  | array of measured values (f32)                     | >=4            |                                                                                                                                                                            |
+--------------------------+-----+----------------------------------------------------+----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 0x00 + len(a1)           | a2  | array of timestamps for the datapoints in a1 (f64) | >=4            | If the waveform is sampled regularly, this array will only contain the timestamp of the first datapoint. All other timestamps can be calculated with the sampling interval |
+--------------------------+-----+----------------------------------------------------+----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 0x00 + len(a1) + len(a2) |     | sampling interval (f64)                            | 8              | Nullable, only set if the waveform is regularly sampled                                                                                                                    |
+--------------------------+-----+----------------------------------------------------+----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 0x08 + len(a1) + len(a2) |     | unknown bytes                                      | 24             | Unknown function, does not seem to be related to the actual data                                                                                                           |
+--------------------------+-----+----------------------------------------------------+----------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Table of Contents
===============================
.. _toc


+----------------+-----+-------------------------+----------------+------------------------------+
| Offset (bytes) | ref | Description             | Length (bytes) | Notes                        |
+================+=====+=========================+================+==============================+
| 0x00           | s1  | root name (string)      | >=4            | Name of the top-level folder |
+----------------+-----+-------------------------+----------------+------------------------------+
| 0x00 + len(s1) |     | empty                   | 8              |                              |
+----------------+-----+-------------------------+----------------+------------------------------+
| 0x08 + len(s1) |     | array of child elements | >=4            |                              |
+----------------+-----+-------------------------+----------------+------------------------------+

Element
----------
.. _tocelement

+----------------+-----+------------------------------+----------------+----------------------+
| Offset (bytes) | ref | Description                  | Length (bytes) | Notes                |
+================+=====+==============================+================+======================+
| 0x00           |     | entry type (u32)             | 4              | 1: Folder, 2: Stream |
+----------------+-----+------------------------------+----------------+----------------------+
| 0x04           | s1  | name of the element (string) | >= 4           |                      |
+----------------+-----+------------------------------+----------------+----------------------+
| 0x04 + len(s1) |     | unknown bytes                | 4              | usually empty        |
+----------------+-----+------------------------------+----------------+----------------------+
| 0x08 + len(s1) |     | entry id (u32)               | 4              |                      |
+----------------+-----+------------------------------+----------------+----------------------+
| 0x0C + len(s1) |     | entry contents               | >= 4           |                      |
+----------------+-----+------------------------------+----------------+----------------------+

Stream Element
~~~~~~~~~~~~~~~~~~
.. _tocstream

+----------------+-----+-------------------------+----------------+----------------------------------+
| Offset (bytes) | ref | Description             | Length (bytes) | Notes                            |
+================+=====+=========================+================+==================================+
| 0x00           |     | Stream Type (u32)       | 4              | 2: Waveform, 3: Text             |
+----------------+-----+-------------------------+----------------+----------------------------------+
| 0x04           | dp  | display properties      | >= 24          |                                  |
+----------------+-----+-------------------------+----------------+----------------------------------+
| 0x04 + len(dp) |     | open at start (bool)    | 4              | only first byte is set to 0 or 1 |
+----------------+-----+-------------------------+----------------+----------------------------------+
| 0x08 + len(dp) |     | array of page ids (u32) | >= 4           | pages belonging to this stream   |
+----------------+-----+-------------------------+----------------+----------------------------------+


Display Properties
""""""""""""""""""
.. _tocdp

+----------------+-----+--------------------------+----------------+-------+
| Offset (bytes) | ref | Description              | Length (bytes) | Notes |
+================+=====+==========================+================+=======+
| 0x00           |     | Plot type (u32)          | 4              |       |
+----------------+-----+--------------------------+----------------+-------+
| 0x04           |     | histogram interval (u32) | 4              |       |
+----------------+-----+--------------------------+----------------+-------+
| 0x08           |     | Latency unit (u32)       | 4              |       |
+----------------+-----+--------------------------+----------------+-------+
| 0x0C           |     | latency reference (u32)  | 4              |       |
+----------------+-----+--------------------------+----------------+-------+
| 0x10           | s1  | unit (string)            | >= 4           |       |
+----------------+-----+--------------------------+----------------+-------+
| 0x10 + len(s1) |     | point style (u32)        | 4              |       |
+----------------+-----+--------------------------+----------------+-------+
| 0x14 + len(s1) |     | point color (RGBA)       | 4              |       |
+----------------+-----+--------------------------+----------------+-------+
| 0x18 + len(s1) |     | histogram begin (f64)    | 8              |       |
+----------------+-----+--------------------------+----------------+-------+
